-- ⚙️ Cấu hình
local AFKCheckTime = 150 -- số giây check AFK
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")

local lastPos = hrp.Position

-- Hàm rejoin
local function Rejoin()
    TeleportService:Teleport(game.PlaceId, player)
end

-- Vòng lặp check AFK
while task.wait(AFKCheckTime) do
    if not hrp or not hrp.Parent then
        character = player.Character or player.CharacterAdded:Wait()
        hrp = character:WaitForChild("HumanoidRootPart")
        lastPos = hrp.Position
    else
        local newPos = hrp.Position
        if (newPos - lastPos).magnitude < 2 then
            warn("⚠️ AFK detected, rejoining...")
            Rejoin()
            break
        else
            lastPos = newPos
        end
    end
end
